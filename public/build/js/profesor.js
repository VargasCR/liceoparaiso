function setPageURL(e){const o=btoa(e),t=window.location.href,n=new URL(t);n.searchParams.set("page",o);const a=n.href;window.location.href=a}function findPeriodo(){const e=document.querySelector("#teacher-select-periodo").value,o=btoa(e),t=window.location.href,n=new URL(t);n.searchParams.set("periodo",o);const a=n.href;window.location.href=a}function openTab(e,o){let t,n,a;for(e.preventDefault(),setPageURL(o),n=document.getElementsByClassName("tabcontent"),t=0;t<n.length;t++)n[t].style.display="none";for(a=document.getElementsByClassName("tablinks"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" active","");const r=document.querySelector("#"+o);r&&(r.style.display="block",e.currentTarget.className+=" active",document.querySelector("#s"+o).classList.add("active")),"tab-schedule"===o&&refreshModelesPanel()}async function addIndicador(e,o,t,n){const a=new FormData;a.append("moduloID",e),a.append("type",o),a.append("periodo",t),a.append("clase",n);try{const e="/api/add-indicador-teacher",o=await fetch(e,{method:"POST",body:a});await o.json()&&(window.location.href=window.location.href)}catch(e){}}async function deleteHW(e){Swal.fire({title:"¿Eliminar?",text:"No se podrá revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, borrar",cancelButtonText:"Cancelar"}).then(async o=>{if(o.isConfirmed){const o=new FormData;o.append("id",e);try{const e="/api/delete-homework",t=await fetch(e,{method:"POST",body:o});await t.json()?Swal.fire("¡Borrado!","","success").then(()=>{window.location.href=window.location.href}):Swal.fire("Error!","","error")}catch(e){Swal.fire("Error!","","error")}}})}async function addHW(e,o){Swal.fire({title:"¿Agregar?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, agregar",cancelButtonText:"Cancelar"}).then(async t=>{if(t.isConfirmed){const t=new FormData;t.append("modulo",e),t.append("periodo",o);try{const e="/api/add-homework",o=await fetch(e,{method:"POST",body:t});await o.json()?Swal.fire("Agregado!","","success").then(()=>{window.location.href=window.location.href}):Swal.fire("Error!","","error")}catch(e){Swal.fire("Error!","","error")}}})}async function addProjectIndicador(e,o,t,n,a){const r=new FormData;r.append("id",e),r.append("modulo",o),r.append("cant",t),r.append("periodo",n),r.append("tipo",a);try{const e="/api/add-project-indicador-teacher",o=await fetch(e,{method:"POST",body:r});await o.json()&&(window.location.href=window.location.href)}catch(e){}}async function deleteProject(e){Swal.fire({title:"¿Eliminar?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async o=>{if(o.isConfirmed){const o=new FormData;o.append("id",e);try{const e="/api/delete-project-teacher",t=await fetch(e,{method:"POST",body:o}),n=await t.json();console.log(n),n?Swal.fire("Eliminado!","","success").then(()=>{window.location.href=window.location.href}):Swal.fire("Error!","","error")}catch(e){Swal.fire("Error!","","error")}}})}