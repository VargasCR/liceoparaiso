function setPageURL(o){const e=btoa(o),t=window.location.href,a=new URL(t);a.searchParams.set("page",e);const n=a.href;window.location.href=n}function findPeriodo(){const o=document.querySelector("#teacher-select-periodo").value,e=btoa(o),t=window.location.href,a=new URL(t);a.searchParams.set("periodo",e);const n=a.href;window.location.href=n}function openTab(o,e){let t,a,n;for(o.preventDefault(),setPageURL(e),a=document.getElementsByClassName("tabcontent"),t=0;t<a.length;t++)a[t].style.display="none";for(n=document.getElementsByClassName("tablinks"),t=0;t<n.length;t++)n[t].className=n[t].className.replace(" active","");const r=document.querySelector("#"+e);r&&(r.style.display="block",o.currentTarget.className+=" active",document.querySelector("#s"+e).classList.add("active")),"tab-schedule"===e&&refreshModelesPanel()}async function addIndicador(o,e,t,a){const n=new FormData;n.append("moduloID",o),n.append("type",e),n.append("periodo",t),n.append("clase",a);try{const o="http://localhost:3000/api/add-indicador-teacher",e=await fetch(o,{method:"POST",body:n});await e.json()&&(window.location.href=window.location.href)}catch(o){}}async function deleteHW(o){Swal.fire({title:"¿Eliminar?",text:"No se podrá revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, borrar",cancelButtonText:"Cancelar"}).then(async e=>{if(e.isConfirmed){const e=new FormData;e.append("id",o);try{const o="http://localhost:3000/api/delete-homework",t=await fetch(o,{method:"POST",body:e});await t.json()?Swal.fire("¡Borrado!","","success").then(()=>{window.location.href=window.location.href}):Swal.fire("Error!","","error")}catch(o){Swal.fire("Error!","","error")}}})}async function addHW(o,e){Swal.fire({title:"¿Agregar?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, agregar",cancelButtonText:"Cancelar"}).then(async t=>{if(t.isConfirmed){const t=new FormData;t.append("modulo",o),t.append("periodo",e);try{const o="http://localhost:3000/api/add-homework",e=await fetch(o,{method:"POST",body:t});await e.json()?Swal.fire("Agregado!","","success").then(()=>{window.location.href=window.location.href}):Swal.fire("Error!","","error")}catch(o){Swal.fire("Error!","","error")}}})}async function addProjectIndicador(o,e,t,a,n){const r=new FormData;r.append("id",o),r.append("modulo",e),r.append("cant",t),r.append("periodo",a),r.append("tipo",n);try{const o="http://localhost:3000/api/add-project-indicador-teacher",e=await fetch(o,{method:"POST",body:r});await e.json()&&(window.location.href=window.location.href)}catch(o){}}async function deleteProject(o){Swal.fire({title:"¿Eliminar?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async e=>{if(e.isConfirmed){const e=new FormData;e.append("id",o);try{const o="http://localhost:3000/api/delete-project-teacher",t=await fetch(o,{method:"POST",body:e}),a=await t.json();console.log(a),a?Swal.fire("Eliminado!","","success").then(()=>{window.location.href=window.location.href}):Swal.fire("Error!","","error")}catch(o){Swal.fire("Error!","","error")}}})}